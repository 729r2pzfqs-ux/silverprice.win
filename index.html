<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metal Prices - Live Gold, Silver & Platinum</title>
    <meta name="description" content="Live precious metal prices - Gold, Silver, Platinum. Real-time spot prices, charts, and Shanghai silver rates.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .metal-card { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.05); }
        .price-up { color: #22c55e; }
        .price-down { color: #ef4444; }
        .metal-tab { transition: all 0.2s; }
        .metal-tab.active { transform: scale(1.02); }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 min-h-screen font-sans text-white">
    <!-- Header -->
    <header class="border-b border-slate-700/50">
        <div class="max-w-2xl mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center">
                    <span class="text-sm">ðŸ’°</span>
                </div>
                <div>
                    <h1 class="text-lg font-bold">MetalPrices</h1>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <select id="currency" class="bg-slate-800 border border-slate-700 rounded-lg px-2 py-1 text-sm">
                    <option value="USD">USD</option>
                    <option value="EUR">EUR</option>
                    <option value="GBP">GBP</option>
                </select>
                <span id="lastUpdate" class="text-xs text-slate-400"></span>
            </div>
        </div>
    </header>

    <main class="max-w-2xl mx-auto px-4 py-4">
        <!-- Metal Selector Tabs -->
        <div class="flex gap-2 mb-4">
            <button onclick="selectMetal('gold')" id="tab-gold" class="metal-tab flex-1 py-3 px-4 rounded-xl bg-yellow-500/20 border-2 border-yellow-500/50 active">
                <div class="text-center">
                    <span class="text-xl">ðŸ¥‡</span>
                    <div class="text-sm font-medium mt-1">Gold</div>
                </div>
            </button>
            <button onclick="selectMetal('silver')" id="tab-silver" class="metal-tab flex-1 py-3 px-4 rounded-xl bg-slate-700/50 border-2 border-transparent">
                <div class="text-center">
                    <span class="text-xl">ðŸ¥ˆ</span>
                    <div class="text-sm font-medium mt-1">Silver</div>
                </div>
            </button>
            <button onclick="selectMetal('platinum')" id="tab-platinum" class="metal-tab flex-1 py-3 px-4 rounded-xl bg-slate-700/50 border-2 border-transparent">
                <div class="text-center">
                    <span class="text-xl">ðŸ’Ž</span>
                    <div class="text-sm font-medium mt-1">Platinum</div>
                </div>
            </button>
        </div>

        <!-- Selected Metal Price Card -->
        <div class="metal-card rounded-2xl border border-slate-700/50 p-5 mb-4">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h2 id="metalName" class="text-xl font-bold">Gold</h2>
                    <p id="metalCode" class="text-sm text-slate-400">XAU/USD</p>
                </div>
                <div class="text-right">
                    <div id="metalPrice" class="text-3xl font-bold">--</div>
                    <div class="flex items-center justify-end gap-2 mt-1">
                        <span id="metalChange" class="text-sm">--</span>
                        <span id="metalChangePct" class="text-xs px-2 py-0.5 rounded-full bg-slate-700">--</span>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-3 gap-3 text-center text-sm">
                <div class="bg-slate-800/50 rounded-lg p-2">
                    <div class="text-slate-400 text-xs">per gram</div>
                    <div id="metalGram" class="font-medium">--</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-2">
                    <div class="text-slate-400 text-xs">per kg</div>
                    <div id="metalKg" class="font-medium">--</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-2">
                    <div class="text-slate-400 text-xs">24h high</div>
                    <div id="metalHigh" class="font-medium">--</div>
                </div>
            </div>
        </div>

        <!-- Chart -->
        <div class="metal-card rounded-2xl border border-slate-700/50 p-4 mb-4">
            <div class="flex gap-2 mb-3">
                <button onclick="setTimeframe('1D')" class="timeframe-btn px-3 py-1 text-xs rounded bg-slate-700">1D</button>
                <button onclick="setTimeframe('1W')" class="timeframe-btn px-3 py-1 text-xs rounded hover:bg-slate-700">1W</button>
                <button onclick="setTimeframe('1M')" class="timeframe-btn px-3 py-1 text-xs rounded hover:bg-slate-700">1M</button>
                <button onclick="setTimeframe('3M')" class="timeframe-btn px-3 py-1 text-xs rounded hover:bg-slate-700">3M</button>
                <button onclick="setTimeframe('1Y')" class="timeframe-btn px-3 py-1 text-xs rounded hover:bg-slate-700">1Y</button>
            </div>
            <div class="h-64" id="priceChart"></div>
        </div>

        <!-- Shanghai Silver Section (only visible when silver selected) -->
        <div id="shanghaiSection" class="metal-card rounded-2xl border border-red-500/30 p-4 mb-4 hidden">
            <div class="flex items-center gap-2 mb-3">
                <span>ðŸ‡¨ðŸ‡³</span>
                <h3 class="font-semibold">Shanghai Silver (Ag T+D)</h3>
            </div>
            
            <div class="grid grid-cols-2 gap-3 mb-3">
                <div class="bg-slate-800/50 rounded-xl p-3 text-center">
                    <div class="text-slate-400 text-xs">Western Spot</div>
                    <div id="westernSpot" class="text-xl font-bold">--</div>
                </div>
                <div class="bg-red-500/10 rounded-xl p-3 text-center border border-red-500/30">
                    <div class="text-slate-400 text-xs">Shanghai</div>
                    <div id="shanghaiPrice" class="text-xl font-bold text-red-400">--</div>
                </div>
            </div>
            
            <div class="flex justify-center mb-3">
                <div class="bg-green-500/20 border border-green-500/30 rounded-full px-3 py-1 text-sm">
                    <span class="text-green-400 font-bold" id="shanghaiPremium">+$0</span>
                    <span class="text-slate-400">Premium</span>
                    <span class="text-green-400" id="shanghaiPremiumPct">(+0%)</span>
                </div>
            </div>
            
            <div class="grid grid-cols-4 gap-2 text-xs">
                <div class="bg-slate-800/50 rounded-lg p-2 text-center">
                    <div class="text-slate-400">CNY/g</div>
                    <div id="shanghaiCnyGram">--</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-2 text-center">
                    <div class="text-slate-400">CNY/kg</div>
                    <div id="shanghaiCnyKg">--</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-2 text-center">
                    <div class="text-slate-400">USD/kg</div>
                    <div id="shanghaiUsdKg">--</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-2 text-center">
                    <div class="text-slate-400">Status</div>
                    <div id="shanghaiStatus">--</div>
                </div>
            </div>
        </div>

        <!-- Quick Calculator -->
        <div class="metal-card rounded-2xl border border-slate-700/50 p-4">
            <h3 class="font-semibold mb-3">Calculator</h3>
            <div class="flex gap-2">
                <input type="number" id="calcAmount" value="1" class="flex-1 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm">
                <select id="calcUnit" class="bg-slate-800 border border-slate-700 rounded-lg px-2 py-2 text-sm">
                    <option value="oz">oz</option>
                    <option value="gram">gram</option>
                    <option value="kg">kg</option>
                </select>
            </div>
            <div class="mt-3 p-3 bg-slate-800/50 rounded-xl text-center">
                <div id="calcResult" class="text-2xl font-bold text-yellow-400">$0.00</div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-700/50 mt-6">
        <div class="max-w-2xl mx-auto px-4 py-4 text-center text-xs text-slate-500">
            <p>Updated every 60s â€¢ Data for informational purposes</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
